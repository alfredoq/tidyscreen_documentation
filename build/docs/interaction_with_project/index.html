<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-interaction_with_project" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Running a TidyScreen project | TidyScreen</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://alfredoq.github.io/tidyscreen_documentation/img/tidyscreen_logo.png"><meta data-rh="true" name="twitter:image" content="https://alfredoq.github.io/tidyscreen_documentation/img/tidyscreen_logo.png"><meta data-rh="true" property="og:url" content="https://alfredoq.github.io/tidyscreen_documentation/docs/interaction_with_project"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Running a TidyScreen project | TidyScreen"><meta data-rh="true" name="description" content="A typical vHTS project is comprised by three main stages:"><meta data-rh="true" property="og:description" content="A typical vHTS project is comprised by three main stages:"><link data-rh="true" rel="icon" href="/tidyscreen_documentation/img/tidyscreen_logo.png"><link data-rh="true" rel="canonical" href="https://alfredoq.github.io/tidyscreen_documentation/docs/interaction_with_project"><link data-rh="true" rel="alternate" href="https://alfredoq.github.io/tidyscreen_documentation/docs/interaction_with_project" hreflang="en"><link data-rh="true" rel="alternate" href="https://alfredoq.github.io/tidyscreen_documentation/docs/interaction_with_project" hreflang="x-default"><link rel="stylesheet" href="/tidyscreen_documentation/assets/css/styles.1a112038.css">
<script src="/tidyscreen_documentation/assets/js/runtime~main.6c6285a4.js" defer="defer"></script>
<script src="/tidyscreen_documentation/assets/js/main.c5055e1b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tidyscreen_documentation/"><div class="navbar__logo"><img src="/tidyscreen_documentation/img/tidyscreen_logo.png" alt="TidyScreen" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tidyscreen_documentation/img/tidyscreen_logo.png" alt="TidyScreen" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tidyscreen_documentation/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tidyscreen_documentation/docs/intro">Introduction to TidyScreen</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tidyscreen_documentation/docs/project_presentation">TidyScreen projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tidyscreen_documentation/docs/projects_structure">Projects structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/tidyscreen_documentation/docs/interaction_with_project">Running a TidyScreen project</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tidyscreen_documentation/docs/category/tutorial-1---chemical-space-exploration">Tutorial 1 - Chemical space exploration</a><button aria-label="Expand sidebar category &#x27;Tutorial 1 - Chemical space exploration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tidyscreen_documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Running a TidyScreen project</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Running a TidyScreen project</h1></header>
<p>A typical vHTS project is comprised by three main stages:</p>
<ul>
<li>Construction of a working chemical space;</li>
<li>Molecular docking of selected candidates;</li>
<li>Molecular dynamics simulatons on promising hits;</li>
</ul>
<p>TidyScreen assists in the configuration and execution of each of these stages. The central strategy is based on the philosophy that <strong>indexing and storing data in SQL databases</strong> can be functional not only to the organization of each working stage, but also favors the natural interconnection between them.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="construction-of-a-working-chemical-space">Construction of a working chemical space<a href="#construction-of-a-working-chemical-space" class="hash-link" aria-label="Direct link to Construction of a working chemical space" title="Direct link to Construction of a working chemical space">​</a></h2>
<p>The chemical space to be explored during a vHTS campaign can be constructed using diverse methodological approaches, each one particularly adapted to the research objectives. Some of the alternatives are:</p>
<ul>
<li>Reading compounds from a custom file;</li>
<li>Filtering of commercially available compounds;</li>
<li>Construction of libraries from databases (such as <a href="https://www.ebi.ac.uk/chembl/" target="_blank" rel="noopener noreferrer">ChEMBL</a>);</li>
<li>Exploration of in-house compounds libraries;</li>
<li>Enumeration of synthetic chemical routes;</li>
<li>Etc...</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reading-compounds-from-a-custom-file">Reading compounds from a custom file<a href="#reading-compounds-from-a-custom-file" class="hash-link" aria-label="Direct link to Reading compounds from a custom file" title="Direct link to Reading compounds from a custom file">​</a></h3>
<p>This is the most simple way of introducing one or more compounds into a TidyScreen project. As mentioned before, these compounds will be stored in the SQL database corresponding to the <code>chemspace</code> dimension. <strong>Note:</strong> When a file containing compounds is uploaded into TidyScreen, a copy of such file is stored in the <em>&#x27;chemspace/raw&#x27;</em> folder.</p>
<p><a href="/tidyscreen_documentation/assets/files/aliphatic_alcohols-4b79aaf882c667580cdbb72802c387bc.csv" target="_blank">This</a> is a sample <code>.csv</code> file containing five aliphatic alcohols, and we can use it as and example to store the corresponding compounds into the <code>chemspace</code> database using the following script:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">## We will add compounds present in &#x27;aliphatic_alcohols.csv&#x27; into the already existing &#x27;test1&#x27; project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Activate a project to perform actions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActivateProject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Once activated, initialize ChemSpace actions on the project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ChemSpaceActions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test1_proj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Once the ChemSpace dimension is activated, load the compounds present as SMILES in the .csv file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">process_raw_cpds_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;$PATH_TO_FILE/aliphatic_alcohols.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Different parsing options can be applied to the <code>.csv</code> file depending on the separator used, the existence of a header or compounds names. In order to let TidyScreen know how to process the file, when executing the script the first two lines will be printed to the terminal and serie of questions will be presented in order to guide the parsing process. The following responses should be provided:</p>
<p><code>Header presence (y/n):</code> # in this sample file it indeed contains a header (SMILES,Name)</p>
<p><code>Separator string:</code> # In this case &#x27;,&#x27;</p>
<p><code>Field number corresponding to SMILES:</code> # in this file &#x27;0&#x27;</p>
<p><code>Presence of molecules names (y/n):</code> # in this case &#x27;y&#x27;</p>
<p><code>Field number corresponding to the Names:</code> # in this case &#x27;1&#x27;</p>
<p>Upon providing the requested information, all molecules corresponding to the SMILES present in the <code>.csv</code> file will be stored in a SQL table named after the provided file (i.e. &#x27;aliphatic_alcohols&#x27;) and saved into the &#x27;/processed_data/chemspace.db&#x27; database file of the <code>chemspace</code> domain. (See the <a href="/tidyscreen_documentation/docs/projects_structure" target="_blank" rel="noopener noreferrer">
Projects folders structure
</a> section)</p>
<p>Once loaded, the table containing the compounds can be inspected or modified using different approaches, such as:</p>
<ul>
<li><strong>Listing the tables</strong> present in &#x27;/processed_data/chemspace.db&#x27; database file of the <code>chemspace</code> domain:</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActivateProject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ChemSpaceActions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test1_proj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Execute the listing method on the project ChemSpace object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">list_ligands_tables</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Tables in database corresponding to project: &#x27;test1&#x27;:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aliphatic_alcohols # &lt;- the table containing the loaded compounds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># At the moment only one table of compounds is present in the database.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># If more tables are loaded, they will appear in alpahbetical order in the output.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Listing of compounds</strong> present in a given table:</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActivateProject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ChemSpaceActions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test1_proj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># List the compounds present in the &#x27;aliphatic_alcohols&#x27; table.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">list_cpds_in_table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;aliphatic_alcohols&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>output</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(&#x27;CO&#x27;, &#x27;methanol&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(&#x27;CCO&#x27;, &#x27;ethanol&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(&#x27;CCCO&#x27;, &#x27;propanol&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(&#x27;CCCCO&#x27;, &#x27;butanol&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(&#x27;CCCCCO&#x27;, &#x27;pentanol&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A total of 5 molecules are present in table: &#x27;aliphatic_alcohols&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>Using dedicated tools to manage SQL databases:</p>
<ul>
<li>
<p>Use <a href="https://www.visidata.org/" target="_blank" rel="noopener noreferrer"> VISIDATA </a> to explore <code>chemspace.db</code> in the terminal.</p>
</li>
<li>
<p>Use <a href="https://sqlitebrowser.org/" target="_blank" rel="noopener noreferrer"> DB Browser </a> to explore <code>chemspace.db</code> using a GUI.</p>
</li>
</ul>
</li>
<li>
<p><strong>Deleting</strong> a loaded table:</p>
</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActivateProject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ChemSpaceActions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test1_proj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># The &#x27;aliphatic_alcohols&#x27; can be removed from &#x27;chemspace.db&#x27;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">delete_cpds_table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;aliphatic_alcohols&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After a table containing molecules represented in the SMILES format is loaded into TidyScreen, it is sometimes useful to visually inspect them by depicting the structures. This can be done as follows:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">t1_proj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActivateProject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ChemSpaceActions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test1_proj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Depict compounds present in &#x27;aliphatic_alcohols&#x27; table. One or more .pn files will be written to the /chemspace/misc/$TABLE_NAME&#x27; directory.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot_table_of_molecules</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;aliphatic_alcohols&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The file named &#x27;aliphatic_alcohols_0.png&#x27; will be written to <code>/chemspace/misc/$TABLE_NAME</code>.</p>
<p><img decoding="async" loading="lazy" alt="aliphatic_alcohols" src="/tidyscreen_documentation/assets/images/aliphatic_alcohols-7721c9620a8463fa12f3e92c78d6e69c.png" width="2000" height="250" class="img_ev3q"></p>
<p>Consider that if a table containing a large number of compounds is depicted, several <code>.png</code> files will be generated, each one containing 25 (5x5) depicted molecules. Each molecule depiction is accompanied by two labels:</p>
<ul>
<li>
<p><em><strong>inchi_key</strong></em>: that is a unique identifier of the molecule, which is automatically computed by TidyScreen at the moment of reading the input file. This identifier will be used as the unique id of the molecule during the vHTS campaign.</p>
</li>
<li>
<p><em><strong>mol_name</strong></em>: corresponding the the name that was provided by the user un the input file.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filtering-of-commercially-available-compounds">Filtering of commercially available compounds;<a href="#filtering-of-commercially-available-compounds" class="hash-link" aria-label="Direct link to Filtering of commercially available compounds;" title="Direct link to Filtering of commercially available compounds;">​</a></h3>
<p>Considering that most databases containing commercially available compounds are obtained using <code>.csv</code> file,  their loading into TidyScreen follows the same procedure described in the previous section. However, since these databases typically contains millions of molecules, it is frequently required to subset the whole database in order to isolate specific type of molecules. TidyScreen provides methods to apply custom chemical filter based on <a href="https://www.daylight.com/dayhtml/doc/theory/theory.smarts.html" target="_blank" rel="noopener noreferrer">SMARTS</a> notation.</p>
<p>Two frequently used databases of commercially available compounds are <a href="https://zinc.docking.org/" target="_blank" rel="noopener noreferrer">ZINC</a> or <a href="https://search.emolecules.com/" target="_blank" rel="noopener noreferrer">Emolecules</a>. In <a href="/tidyscreen_documentation/file/emolecules_sample.csv">this link</a> you will find a <code>.csv</code> file containing a sample (50K molecules) of the Emolecules database in order to test TidyScreen functioning.</p>
<p>Here we load the sample file into the corresponding <code>chemspace</code> table:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Activate &#x27;test1&#x27; project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActivateProject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Initialize ChemSpace actions on &#x27;test1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ChemSpaceActions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test1_proj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load the raw file &#x27;emolecules_sample.csv&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">process_raw_cpds_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;$PATH_TO_FILE/emolecules_sample.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After executing the script, TidyScreen will use available cpu cores to load the 50K structures into the corresponding table.</p>
<p>Now, we can subset the newly created &#x27;emolecules_sample&#x27; table. This filtering can be performed by using <a href="https://www.daylight.com/dayhtml/doc/theory/theory.smarts.html" target="_blank" rel="noopener noreferrer">SMARTS</a> notation, and also TidyScreen provides a set of built-in custom filters used to match typical reactants. The list of available filters can be que queried as follows:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> tidyscreen </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> config </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> ts_cfg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tidyscreen_dbs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">main_database </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ts_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MainDbConfigs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">main_database</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">list_available_chem_filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>which will output the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1: Aminoacids - [NX3H2,NX4+H3][CX4H]([*])[CX3H0](=[OX1])[OX2H,OX1-]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2: Boron - B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3: Silicon - [Si]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4: Azide - N=[N+]=[N-]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5: Terminal_alkyne - C#[CH]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6: Deuterium - [2H]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As can be seen, each chemical filter is identified by a <code>filter_id</code> followed by a <code>filter_name</code>and <code>filter_smarts</code>. The use of the filter in production is performed by spcifing the corresponding <code>filter_id</code> which is unique to each filter. During the isolation of building blocks that are or interest in a vHTS campaign it is frequently required to build a <em>filters pipeline</em>, i.e. a set of filters that are applied sequently to match chemical conditions. In this way,  TidyScreen filters molecules based on these kind of filters pipeline, which can contain one or multiple filters.</p>
<p>A single filter pipeline can be constructed as follows:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Activate &#x27;test1&#x27; project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActivateProject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Initialize ChemSpace actions on &#x27;test1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ChemSpaceActions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test1_proj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a single filter including id: 1 (Aminoacids)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_filters_pipeline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When this script is executed, the following information will be requested:</p>
<ul>
<li><strong>Filter number to add</strong>: corresponds to the <code>id</code> of the filter stored in the main database. If entering a multifilter pipeline, new filters will be recursively requested, so end the pipeline the word &#x27;quit&#x27; should be entered. In this example we intend to filter aminoacids, so we will indicate &#x27;1&#x27;.</li>
<li><strong>Number of instances allowed</strong>: set the <strong>maximum</strong> number of filter matches to allow. Think that a given chemical moiety can be present more than once in a molecule, and we may want to filter molecules containing lets stay &#x27;no more than two hydroxyl&#x27; groups. In this case we will indicate &#x27;1&#x27; (i.e. only 1 aminoacid scaffold should be retained).</li>
<li><strong>Indicate inclusion/exclusion</strong>: if <strong>inclusion</strong> is selected, when the chemical filter is matched the molecule will be retained in the results table. On the other hand, when <strong>exlusion</strong> is indicated, it means that if matched, the molecule will be discarded from from the results table. In this case we indicate &#x27;I&#x27;.</li>
<li>Pipeline name: finally, when the pipeline has been defined, a &#x27;pipeline name&#x27; is requested in order to identify it (we will give this pipeline the name <em>&#x27;aminoacids&#x27;</em>).</li>
</ul>
<p>Once created, we can list the filters pipeline that are available for a given project. Please note that <em>filters pipelines</em> are specific to project, while the individual filter database is common to the local TidyScreen installation.</p>
<p><strong>Note: add the script to show the filters pipeline available in the project</strong></p>
<p>At this point we can apply the newly created filter as follows:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Activate &#x27;test1&#x27; project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ActivateProject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Initialize ChemSpace actions on &#x27;test1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proj_mg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ChemSpaceActions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">test1_proj</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># The &#x27;filters_pipeline&#x27; can be applied by indicanting the corresponding `filter_id` and `table_name`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test1_proj_CS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">apply_filters_pipeline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;emolecules_sample&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If everything works ok, 7 molecules containing <code>filter_id</code> = 1 exists in the table of compounds named &#x27;emolecules_sample&#x27;. The matched molecules will be written to a table named &#x27;emolecules_sample_filter_id_1&#x27;. As you can see, the table is named after the original table name followed by the <code>filter_id</code> that was applied.</p>
<p>Upong depiction of the resulting table, the following molecules can be seen:</p>
<p><img decoding="async" loading="lazy" src="/tidyscreen_documentation/assets/images/emolecules_sample_filter_id_1_0-cd38ce0729e48e4a0a2e50f9e8692796.png" width="2000" height="500" class="img_ev3q"></p>
<p>A can be seen, the filtering of molecules containing aminoacids was succesfull.</p>
<p>As expected, custom filters can be added to the default ones provided upon installation of TidyScreen. To perform this, the user should use the <code>add_chem_filters_from_file</code> , which will read a <code>csv</code> file containing the following information:</p>
<ul>
<li>Field_1: <code>filter_name</code></li>
<li>Field_2: <code>filter_smarts</code></li>
<li>Field_3: <code>user_name</code></li>
</ul>
<p><strong>NOTE: continue with example of adding a custom filter for thiols and filtering with 2 ids.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="construction-of-libraries-from-databases">Construction of libraries from databases<a href="#construction-of-libraries-from-databases" class="hash-link" aria-label="Direct link to Construction of libraries from databases" title="Direct link to Construction of libraries from databases">​</a></h3>
<p>Under construction</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="exploration-of-in-house-compounds-libraries">Exploration of in-house compounds libraries<a href="#exploration-of-in-house-compounds-libraries" class="hash-link" aria-label="Direct link to Exploration of in-house compounds libraries" title="Direct link to Exploration of in-house compounds libraries">​</a></h3>
<p>Under construction</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enumeration-of-synthetic-chemical-routes">Enumeration of synthetic chemical routes<a href="#enumeration-of-synthetic-chemical-routes" class="hash-link" aria-label="Direct link to Enumeration of synthetic chemical routes" title="Direct link to Enumeration of synthetic chemical routes">​</a></h3>
<p>This approach to the exploration of a chemical is associated to the definition of the <em>type of chemistry</em> that is going to be applied in the research project, both virtually and experimentally. Thus this approach is characterized by the existence of a previous knowledge respect to the synthetic feasibility of the compounds to be explored, including the synthetic versatility of each reaction step that is programmed. Tipically, in this stage there is a close communication between the scientist performing the virtual studies and the organic chemist that is going to synthesize the proposed candidates.</p>
<p>Briefly, the focus of the strategy is centered on one or more synthetic route/s towards the desired candidates, which in turn is related to the type and number of reactants involved in each step of the whole synthetic workflow. Sometimes, upon discussion with organic chemists, even the reactants of a given reaction stage can be indeed obtained through specific synthetic protocols, which further expands the experimental network towards the compounds in study. Following this approach, a massive chemical space with synthetic feasibility can be constructed and afterwards explored.</p>
<p>In short, the wole process is organized as follows:</p>
<ul>
<li>Input of reactants into TidyScreen</li>
<li>Definition of a chemical reaction to transform reactants</li>
<li>Execution of a chemical reaction pipelline and storage of products</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="input-of-reactants-into-tidyscreen">Input of reactants into TidyScreen<a href="#input-of-reactants-into-tidyscreen" class="hash-link" aria-label="Direct link to Input of reactants into TidyScreen" title="Direct link to Input of reactants into TidyScreen">​</a></h4>
<p>Se previous section dealing with the database ingestion and/or .csv file reading.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="definition-of-a-chemical-reaction-to-transform-reactants">Definition of a chemical reaction to transform reactants<a href="#definition-of-a-chemical-reaction-to-transform-reactants" class="hash-link" aria-label="Direct link to Definition of a chemical reaction to transform reactants" title="Direct link to Definition of a chemical reaction to transform reactants">​</a></h4>
<p>Chemical reactions can be simulated <em>in silico</em> by using the <a href="https://www.daylight.com/dayhtml/doc/theory/theory.smarts.html" target="_blank" rel="noopener noreferrer">SMARTS</a> reaction notation, which is implemented in the Python package <a href="https://www.rdkit.org/docs/RDKit_Book.html" target="_blank" rel="noopener noreferrer">RDKit</a>, a central component of TidyScreen.</p>
<p>When TidyScreen is first installed, a custom set of reactions are already provided as part of the default <code>reactions_database</code>. It should be noted that this <code>reactions_database</code> belongs to the installed TidyScreen package and is not project specific, granting the possibility of applying common sunthetic procedures (such as chemical protection, deprotection, ionizations, etc) on different projects. Available reactions can be listed by creating a <code>main_database</code> object and afterwards use the <code>list_available_single_reaction</code> method as follows:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">main_database </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ts_cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MainDbConfigs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">main_database</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">list_available_single_reactions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Upon execution of this script, the following output will be provided showing the built-in chemical reactions:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">These are the rections available in the main database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1: Azide_from_alpha_aminoacid - [NX3;H2:1][CX4:2][CX3,H0:3]&gt;&gt;[N-]=[N+]=[NX2;H0:1][CX4:2][CX3,H0:3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2: Acylation - [CX3:1](=[O:2])[OX2H,OX1-:3].[C:4][O]&gt;&gt;[C:1](=[O:2])[O:3][C:4]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3: CuAAC - [NX1-:1]=[NX2+:2]=[NX2:3].[CX2H1:4]#[CX2H0:5]&gt;&gt;[NX2+0:1]1=[NX2+0:2][N:3]-[C:4]=[C:5]1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4: A3Coupling - [N:1].[CX3H1:2](=[O:3])&gt;&gt;[N:1][C:2][C:4]#[C:5]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5: DIBAL - [CX3:1](=[O:2])[OX2H,OX1-:3]&gt;&gt;[CX3H1:1](=[O:2])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6: Thiolation - [CX3:1](=[O:2])[OX2H,OX1-:3]&gt;&gt;[CX4:1][SX2H]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As can be seen , each reaction contains a <code>reaction_id</code> associated to a <code>reaction_name</code> and <code>reaction_smarts</code>.</p>
<p>New reaction types can be added to the default ones included in the default database by using the <code>add_single_reactions_from_file</code> method, which will read a <code>.csv</code> file containing the following information:</p>
<ul>
<li>Field_1: <code>reaction_name</code></li>
<li>Field_2: <code>reaction_smarts</code></li>
<li>Field_3: <code>user_name</code></li>
</ul>
<p>This is the <a href="/tidyscreen_documentation/assets/files/default_reaction_types-a08414dbc55b762aa52c06c375e238ee.csv" target="_blank">default .csv file</a> installed upon the initial installation.</p>
<p>It should be noted that sometimes the creation of a reaction SMARTS can be tricky in terms of unambiguosly matching the correct chemical groups leading to the desired reaction product. The user should check the correctness of the SMARTS notation to be included in the database, otherwise synthetic artifacts will be included in the working chemical space under construction. To aid in this process, the <a href="https://smarts.plus/" target="_blank" rel="noopener noreferrer">SMARTS PLUS</a> is a very usefull web application to create, view and check SMARTS pattern and matching.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="execution-of-a-chemical-reaction-pipeline-and-storage-of-products">Execution of a chemical reaction pipeline and storage of products<a href="#execution-of-a-chemical-reaction-pipeline-and-storage-of-products" class="hash-link" aria-label="Direct link to Execution of a chemical reaction pipeline and storage of products" title="Direct link to Execution of a chemical reaction pipeline and storage of products">​</a></h4>
<p>Under construction</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/interaction_with_project.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tidyscreen_documentation/docs/projects_structure"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Projects structure</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tidyscreen_documentation/docs/category/tutorial-1---chemical-space-exploration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorial 1 - Chemical space exploration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#construction-of-a-working-chemical-space" class="table-of-contents__link toc-highlight">Construction of a working chemical space</a><ul><li><a href="#reading-compounds-from-a-custom-file" class="table-of-contents__link toc-highlight">Reading compounds from a custom file</a></li><li><a href="#filtering-of-commercially-available-compounds" class="table-of-contents__link toc-highlight">Filtering of commercially available compounds;</a></li><li><a href="#construction-of-libraries-from-databases" class="table-of-contents__link toc-highlight">Construction of libraries from databases</a></li><li><a href="#exploration-of-in-house-compounds-libraries" class="table-of-contents__link toc-highlight">Exploration of in-house compounds libraries</a></li><li><a href="#enumeration-of-synthetic-chemical-routes" class="table-of-contents__link toc-highlight">Enumeration of synthetic chemical routes</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tidyscreen_documentation/docs/intro">Project documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/MedChemLab/TidyScreen_revised" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>